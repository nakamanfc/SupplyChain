{"ast":null,"code":"'use strict'; // @ts-ignore - no types\n\nconst WS = require('libp2p-websockets'); // @ts-ignore - no types\n\n\nconst WebRTCStar = require('libp2p-webrtc-star'); // @ts-ignore - no types\n\n\nconst Multiplex = require('libp2p-mplex');\n\nconst {\n  NOISE\n} = require('@chainsafe/libp2p-noise');\n\nconst KadDHT = require('libp2p-kad-dht');\n\nconst GossipSub = require('libp2p-gossipsub');\n\nconst ipnsUtils = require('../ipns/routing/utils');\n\nmodule.exports = () => {\n  /** @type {import('libp2p').Libp2pOptions} */\n  const options = {\n    dialer: {\n      maxParallelDials: 150,\n      // 150 total parallel multiaddr dials\n      maxDialsPerPeer: 4,\n      // Allow 4 multiaddrs to be dialed per peer in parallel\n      dialTimeout: 10e3 // 10 second dial timeout per peer dial\n\n    },\n    modules: {\n      transport: [WS, WebRTCStar],\n      streamMuxer: [Multiplex],\n      connEncryption: [NOISE],\n      peerDiscovery: [],\n      dht: KadDHT,\n      pubsub: GossipSub\n    },\n    config: {\n      peerDiscovery: {\n        autoDial: true,\n        // [Bootstrap.tag] = 'bootstrap'\n        bootstrap: {\n          enabled: true\n        },\n        // [WebRTCStar.discovery.tag]\n        webRTCStar: {\n          enabled: true\n        }\n      },\n      dht: {\n        kBucketSize: 20,\n        enabled: false,\n        clientMode: true,\n        randomWalk: {\n          enabled: false\n        },\n        validators: {\n          ipns: ipnsUtils.validator\n        },\n        selectors: {\n          ipns: ipnsUtils.selector\n        }\n      },\n      pubsub: {\n        enabled: true,\n        emitSelf: true\n      },\n      nat: {\n        enabled: false\n      }\n    },\n    metrics: {\n      enabled: true\n    },\n    peerStore: {\n      persistence: true,\n      threshold: 1\n    }\n  };\n  return options;\n};","map":{"version":3,"sources":["C:/Users/user/mew-supplychain/front-end/node_modules/ipfs-core/src/runtime/libp2p-browser.js"],"names":["WS","require","WebRTCStar","Multiplex","NOISE","KadDHT","GossipSub","ipnsUtils","module","exports","options","dialer","maxParallelDials","maxDialsPerPeer","dialTimeout","modules","transport","streamMuxer","connEncryption","peerDiscovery","dht","pubsub","config","autoDial","bootstrap","enabled","webRTCStar","kBucketSize","clientMode","randomWalk","validators","ipns","validator","selectors","selector","emitSelf","nat","metrics","peerStore","persistence","threshold"],"mappings":"AAAA,a,CAEA;;AACA,MAAMA,EAAE,GAAGC,OAAO,CAAC,mBAAD,CAAlB,C,CACA;;;AACA,MAAMC,UAAU,GAAGD,OAAO,CAAC,oBAAD,CAA1B,C,CACA;;;AACA,MAAME,SAAS,GAAGF,OAAO,CAAC,cAAD,CAAzB;;AACA,MAAM;AAAEG,EAAAA;AAAF,IAAYH,OAAO,CAAC,yBAAD,CAAzB;;AACA,MAAMI,MAAM,GAAGJ,OAAO,CAAC,gBAAD,CAAtB;;AACA,MAAMK,SAAS,GAAGL,OAAO,CAAC,kBAAD,CAAzB;;AACA,MAAMM,SAAS,GAAGN,OAAO,CAAC,uBAAD,CAAzB;;AAEAO,MAAM,CAACC,OAAP,GAAiB,MAAM;AACrB;AACA,QAAMC,OAAO,GAAG;AACdC,IAAAA,MAAM,EAAE;AACNC,MAAAA,gBAAgB,EAAE,GADZ;AACiB;AACvBC,MAAAA,eAAe,EAAE,CAFX;AAEc;AACpBC,MAAAA,WAAW,EAAE,IAHP,CAGY;;AAHZ,KADM;AAMdC,IAAAA,OAAO,EAAE;AACPC,MAAAA,SAAS,EAAE,CACThB,EADS,EAETE,UAFS,CADJ;AAKPe,MAAAA,WAAW,EAAE,CACXd,SADW,CALN;AAQPe,MAAAA,cAAc,EAAE,CACdd,KADc,CART;AAWPe,MAAAA,aAAa,EAAE,EAXR;AAYPC,MAAAA,GAAG,EAAEf,MAZE;AAaPgB,MAAAA,MAAM,EAAEf;AAbD,KANK;AAqBdgB,IAAAA,MAAM,EAAE;AACNH,MAAAA,aAAa,EAAE;AACbI,QAAAA,QAAQ,EAAE,IADG;AAEb;AACAC,QAAAA,SAAS,EAAE;AACTC,UAAAA,OAAO,EAAE;AADA,SAHE;AAMb;AACAC,QAAAA,UAAU,EAAE;AACVD,UAAAA,OAAO,EAAE;AADC;AAPC,OADT;AAYNL,MAAAA,GAAG,EAAE;AACHO,QAAAA,WAAW,EAAE,EADV;AAEHF,QAAAA,OAAO,EAAE,KAFN;AAGHG,QAAAA,UAAU,EAAE,IAHT;AAIHC,QAAAA,UAAU,EAAE;AACVJ,UAAAA,OAAO,EAAE;AADC,SAJT;AAOHK,QAAAA,UAAU,EAAE;AACVC,UAAAA,IAAI,EAAExB,SAAS,CAACyB;AADN,SAPT;AAUHC,QAAAA,SAAS,EAAE;AACTF,UAAAA,IAAI,EAAExB,SAAS,CAAC2B;AADP;AAVR,OAZC;AA0BNb,MAAAA,MAAM,EAAE;AACNI,QAAAA,OAAO,EAAE,IADH;AAENU,QAAAA,QAAQ,EAAE;AAFJ,OA1BF;AA8BNC,MAAAA,GAAG,EAAE;AACHX,QAAAA,OAAO,EAAE;AADN;AA9BC,KArBM;AAuDdY,IAAAA,OAAO,EAAE;AACPZ,MAAAA,OAAO,EAAE;AADF,KAvDK;AA0Dda,IAAAA,SAAS,EAAE;AACTC,MAAAA,WAAW,EAAE,IADJ;AAETC,MAAAA,SAAS,EAAE;AAFF;AA1DG,GAAhB;AAgEA,SAAO9B,OAAP;AACD,CAnED","sourcesContent":["'use strict'\n\n// @ts-ignore - no types\nconst WS = require('libp2p-websockets')\n// @ts-ignore - no types\nconst WebRTCStar = require('libp2p-webrtc-star')\n// @ts-ignore - no types\nconst Multiplex = require('libp2p-mplex')\nconst { NOISE } = require('@chainsafe/libp2p-noise')\nconst KadDHT = require('libp2p-kad-dht')\nconst GossipSub = require('libp2p-gossipsub')\nconst ipnsUtils = require('../ipns/routing/utils')\n\nmodule.exports = () => {\n  /** @type {import('libp2p').Libp2pOptions} */\n  const options = {\n    dialer: {\n      maxParallelDials: 150, // 150 total parallel multiaddr dials\n      maxDialsPerPeer: 4, // Allow 4 multiaddrs to be dialed per peer in parallel\n      dialTimeout: 10e3 // 10 second dial timeout per peer dial\n    },\n    modules: {\n      transport: [\n        WS,\n        WebRTCStar\n      ],\n      streamMuxer: [\n        Multiplex\n      ],\n      connEncryption: [\n        NOISE\n      ],\n      peerDiscovery: [],\n      dht: KadDHT,\n      pubsub: GossipSub\n    },\n    config: {\n      peerDiscovery: {\n        autoDial: true,\n        // [Bootstrap.tag] = 'bootstrap'\n        bootstrap: {\n          enabled: true\n        },\n        // [WebRTCStar.discovery.tag]\n        webRTCStar: {\n          enabled: true\n        }\n      },\n      dht: {\n        kBucketSize: 20,\n        enabled: false,\n        clientMode: true,\n        randomWalk: {\n          enabled: false\n        },\n        validators: {\n          ipns: ipnsUtils.validator\n        },\n        selectors: {\n          ipns: ipnsUtils.selector\n        }\n      },\n      pubsub: {\n        enabled: true,\n        emitSelf: true\n      },\n      nat: {\n        enabled: false\n      }\n    },\n    metrics: {\n      enabled: true\n    },\n    peerStore: {\n      persistence: true,\n      threshold: 1\n    }\n  }\n\n  return options\n}\n"]},"metadata":{},"sourceType":"script"}