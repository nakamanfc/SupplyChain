{"ast":null,"code":"'use strict';\n\nconst noop = () => {};\n\nconst topologySymbol = Symbol.for('@libp2p/js-interfaces/topology');\n/**\n * @typedef {import('peer-id')} PeerId\n */\n\n/**\n * @typedef {Object} Options\n * @property {number} [min=0] - minimum needed connections.\n * @property {number} [max=Infinity] - maximum needed connections.\n * @property {Handlers} [handlers]\n *\n * @typedef {Object} Handlers\n * @property {(peerId: PeerId, conn: Connection) => void} [onConnect] - protocol \"onConnect\" handler\n * @property {(peerId: PeerId, error?:Error) => void} [onDisconnect] - protocol \"onDisconnect\" handler\n *\n * @typedef {import('../connection/connection')} Connection\n */\n\nclass Topology {\n  /**\n   * @param {Options} options\n   */\n  constructor({\n    min = 0,\n    max = Infinity,\n    handlers = {}\n  }) {\n    this.min = min;\n    this.max = max; // Handlers\n\n    this._onConnect = handlers.onConnect || noop;\n    this._onDisconnect = handlers.onDisconnect || noop;\n    /**\n     * Set of peers that support the protocol.\n     *\n     * @type {Set<string>}\n     */\n\n    this.peers = new Set();\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'Topology';\n  }\n\n  get [topologySymbol]() {\n    return true;\n  }\n  /**\n   * Checks if the given value is a Topology instance.\n   *\n   * @param {any} other\n   * @returns {other is Topology}\n   */\n\n\n  static isTopology(other) {\n    return Boolean(other && other[topologySymbol]);\n  }\n  /**\n   * @param {any} registrar\n   */\n\n\n  set registrar(registrar) {\n    // eslint-disable-line\n    this._registrar = registrar;\n  }\n  /**\n   * Notify about peer disconnected event.\n   *\n   * @param {PeerId} peerId\n   * @returns {void}\n   */\n\n\n  disconnect(peerId) {\n    this._onDisconnect(peerId);\n  }\n\n}\n\nmodule.exports = Topology;","map":{"version":3,"sources":["C:/Users/user/mew-supplychain/front-end/node_modules/libp2p-interfaces/src/topology/index.js"],"names":["noop","topologySymbol","Symbol","for","Topology","constructor","min","max","Infinity","handlers","_onConnect","onConnect","_onDisconnect","onDisconnect","peers","Set","toStringTag","isTopology","other","Boolean","registrar","_registrar","disconnect","peerId","module","exports"],"mappings":"AAAA;;AAEA,MAAMA,IAAI,GAAG,MAAM,CAAE,CAArB;;AACA,MAAMC,cAAc,GAAGC,MAAM,CAACC,GAAP,CAAW,gCAAX,CAAvB;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,QAAN,CAAe;AACb;AACF;AACA;AACEC,EAAAA,WAAW,CAAE;AACXC,IAAAA,GAAG,GAAG,CADK;AAEXC,IAAAA,GAAG,GAAGC,QAFK;AAGXC,IAAAA,QAAQ,GAAG;AAHA,GAAF,EAIR;AACD,SAAKH,GAAL,GAAWA,GAAX;AACA,SAAKC,GAAL,GAAWA,GAAX,CAFC,CAID;;AACA,SAAKG,UAAL,GAAkBD,QAAQ,CAACE,SAAT,IAAsBX,IAAxC;AACA,SAAKY,aAAL,GAAqBH,QAAQ,CAACI,YAAT,IAAyBb,IAA9C;AAEA;AACJ;AACA;AACA;AACA;;AACI,SAAKc,KAAL,GAAa,IAAIC,GAAJ,EAAb;AACD;;AAEsB,OAAlBb,MAAM,CAACc,WAAW,IAAK;AAC1B,WAAO,UAAP;AACD;;AAEkB,OAAdf,cAAc,IAAK;AACtB,WAAO,IAAP;AACD;AAED;AACF;AACA;AACA;AACA;AACA;;;AACmB,SAAVgB,UAAU,CAAEC,KAAF,EAAS;AACxB,WAAOC,OAAO,CAACD,KAAK,IAAIA,KAAK,CAACjB,cAAD,CAAf,CAAd;AACD;AAED;AACF;AACA;;;AACe,MAATmB,SAAS,CAAEA,SAAF,EAAa;AAAE;AAC1B,SAAKC,UAAL,GAAkBD,SAAlB;AACD;AAED;AACF;AACA;AACA;AACA;AACA;;;AACEE,EAAAA,UAAU,CAAEC,MAAF,EAAU;AAClB,SAAKX,aAAL,CAAmBW,MAAnB;AACD;;AAzDY;;AA4DfC,MAAM,CAACC,OAAP,GAAiBrB,QAAjB","sourcesContent":["'use strict'\n\nconst noop = () => {}\nconst topologySymbol = Symbol.for('@libp2p/js-interfaces/topology')\n\n/**\n * @typedef {import('peer-id')} PeerId\n */\n\n/**\n * @typedef {Object} Options\n * @property {number} [min=0] - minimum needed connections.\n * @property {number} [max=Infinity] - maximum needed connections.\n * @property {Handlers} [handlers]\n *\n * @typedef {Object} Handlers\n * @property {(peerId: PeerId, conn: Connection) => void} [onConnect] - protocol \"onConnect\" handler\n * @property {(peerId: PeerId, error?:Error) => void} [onDisconnect] - protocol \"onDisconnect\" handler\n *\n * @typedef {import('../connection/connection')} Connection\n */\n\nclass Topology {\n  /**\n   * @param {Options} options\n   */\n  constructor ({\n    min = 0,\n    max = Infinity,\n    handlers = {}\n  }) {\n    this.min = min\n    this.max = max\n\n    // Handlers\n    this._onConnect = handlers.onConnect || noop\n    this._onDisconnect = handlers.onDisconnect || noop\n\n    /**\n     * Set of peers that support the protocol.\n     *\n     * @type {Set<string>}\n     */\n    this.peers = new Set()\n  }\n\n  get [Symbol.toStringTag] () {\n    return 'Topology'\n  }\n\n  get [topologySymbol] () {\n    return true\n  }\n\n  /**\n   * Checks if the given value is a Topology instance.\n   *\n   * @param {any} other\n   * @returns {other is Topology}\n   */\n  static isTopology (other) {\n    return Boolean(other && other[topologySymbol])\n  }\n\n  /**\n   * @param {any} registrar\n   */\n  set registrar (registrar) { // eslint-disable-line\n    this._registrar = registrar\n  }\n\n  /**\n   * Notify about peer disconnected event.\n   *\n   * @param {PeerId} peerId\n   * @returns {void}\n   */\n  disconnect (peerId) {\n    this._onDisconnect(peerId)\n  }\n}\n\nmodule.exports = Topology\n"]},"metadata":{},"sourceType":"script"}